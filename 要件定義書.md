# 取引先登録申請内容確認システム 要件定義書

## 1. システム概要
申請された取引先情報（会社名・住所・電話番号等）の真正性・実在性をWebサイト解析により自動で確認し、架空請求やペーパーカンパニーのリスクを低減する。

## 2. 機能要件

### 2.1 入力
- 取引先申請情報（会社名、住所、電話番号、支店・営業所名、旧社名等）

### 2.2 検索・収集
- Google Search APIを利用し、申請情報に基づくWeb検索を実施
- 検索結果のWebページを自動で収集（Webスクレイピング）

### 2.3 解析
- 収集したWebページから、会社名・住所・電話番号等の情報を抽出
- 申請情報とWeb上の情報の一致確認
- 支店・営業所の組織情報や旧社名・合併履歴の有無を調査

### 2.4 判定
- AIによる真正性・実在性の自動判定（例：一致度スコア、判定理由の出力）

### 2.5 出力
- 判定結果（真正性・実在性の有無、スコア、判定理由）

## 3. システム構成（概要）
- 入力：申請情報（pythonのコマンド実行で引数として取得）
- 検索：Google Search API
- 収集：Webスクレイピング（Python等）
- 解析・判定：AI（LLM等、local環境のollamaを使用 http://localhost:11434/api/chat または http://localhost:11434/api/generate）
- 出力：判定結果（jsonおよびMarkdown）

- 開発言語：python（ver12）
- 設定：基本的に.envに格納

## 4. AI
- local環境のollamaを使用
    - http://localhost:11434/api/chat または http://localhost:11434/api/generate）
- モデル: llama3.1:latest

## 5. Webスクレイピング倫理規定
- 対象サイトのrobots.txtファイルを事前に確認し、スクレイピング禁止の指定があるサイトは対象外とする
- robots.txtでDisallow指定されているパス・ページはスクレイピング対象から除外する
- User-Agent文字列を適切に設定し、スクレイピング実行者を明示する
- 過度なアクセス頻度を避け、サーバー負荷を考慮したアクセス間隔（例：1秒以上）を設ける
- 著作権や個人情報保護に配慮し、収集した情報は判定目的以外に使用しない

